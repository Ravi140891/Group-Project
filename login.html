<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS\style.css" />
    <link rel="stylesheet" href="CSS\login.css" />
    <!-- <script src="app.js" defer></script> -->
    <title>Login</title>
  </head>
  <body>
    <header class="navbar">
      <nav>
        <div class="nav-flex login-flex">
          <a href="/" class="logo">
            <img src="Images\Logo.jpg" alt="" fill="white" />
          </a>
          <section class="nav-items">
            <ul>
              <li><a href="http://">Download</a></li>
              <li><a href="http://">Nitro</a></li>
              <li><a href="http://">Discover</a></li>
              <li><a href="http://">Safety</a></li>
              <li><a href="http://">Support</a></li>
              <li><a href="http://">Blogs</a></li>
              <li><a href="http://">Careers</a></li>
            </ul>
          </section>
          <button class="login">Login</button>
        </div>
        <div class="left-bar">
          <i class="fa fa-bars" style="font-size: 36px"></i>
          <section class="nav-side-menu">
            <article>
              <figure>
                <img src="../Images\Screenshot 2022-12-16 115034.jpg" alt="" />
              </figure>
              <i class="fa fa-close"></i>
            </article>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="http://">Download</a></li>
              <li><a href="http://">Nitro</a></li>
              <li><a href="http://">Discover</a></li>
              <li><a href="http://">Safety</a></li>
              <li><a href="http://">Support</a></li>
              <li><a href="http://">Blogs</a></li>
              <li><a href="http://">Careers</a></li>
            </ul>
            <button class="menu-btn">
              <i class="fa fa-download"></i> Download for Windows
            </button>
          </section>
        </div>
      </nav>
    </header>
    <div class="form-container">
      <form class="login-form">
        <p class="error login-err">Sorry no records found!</p>
        <label for="email">Email:</label><br />
        <input type="email" name="email" id="login-id" /><br />
        <label for="password">Password:</label><br />
        <input type="password" name="password" id="login-pass" /><br />
        <input type="submit" value="Login" class="submit-btn" />
      </form>
    </div>
    <main>
      <h2>Don't have an account yet?</h2>
      <p><a href="signup.html">Click here</a> to create a new account</p>
    </main>
    <script>
      const loginId = document.getElementById("login-id");
      const loginPass = document.getElementById("login-pass");
      const loginForm = document.querySelector(".login-form");
      const loginErr = document.querySelector(".login-err");

      loginArr = JSON.parse(localStorage.getItem("data")) || [];

      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        if (loginId.value !== "" && loginPass.value !== "") {
          for (var i = 0; i < loginArr.length; i++) {
            if (
              loginArr[i].mail == loginId.value &&
              loginArr[i].pass == loginPass.value
            ) {
              return (location.href = "homepage.html");
            }
          }
          if (i == loginArr.length) {
            loginErr.style.display = "block";
            setTimeout(() => {
              loginErr.style.display = "none";
            }, 1500);
            loginForm.reset();
            return;
          }
        }
        if (loginArr.length == 0) {
          loginErr.style.display = "block";
          setTimeout(() => {
            loginErr.style.display = "none";
          }, 1500);
          loginForm.reset();
          return;
        }
      });
    </script>
  </body>
</html>
